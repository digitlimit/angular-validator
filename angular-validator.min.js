(function(){var e;e=angular.element,angular.module("digitlimit.validator",["digitlimit.validators","digitlimit.validator.messages","digitlimit.validator.status"]).service("Validator",["validators","validatorStatus",function(e,t){var a={},r=this;return r.result=[],r.ruleParams=function(e){var t;if(angular.isObject(e)){var a=Object.keys(e),r=a[0];t=e[r],e=r}else{if(!(e.indexOf(":")>-1))return null;var i=e.split(":");e=i[0],t=i[1],t=t&&t.indexOf(",")>-1?t.split(","):[t]}return{rule:e,params:t}},r.splitRule=function(e){return"string"==typeof e?e.split("|"):e},r.validationFunction=function(t,a,r,i,n,u,s){if(!(t in e))throw"Validator '"+t+"' does not exists";return e[t](a,r,i,n,u,s)},r.expandRules=function(e){return"object"!=typeof e?void console.error("validator rules must be an array of rules"):void angular.forEach(e,function(e){e="string"==typeof e?e.split("|"):e})},a.validate=function(e,a,i,n,u,s,l){a=r.splitRule(a);for(var d=[],o=0,c=a.length;c>o;o++){var f=a[o],m=r.ruleParams(f),b=null;m&&(f=m.rule,b=m.params);var h=r.validationFunction(f,e,b,i,n,s,l);if(!h)return d.push(f),t.error(i,u,f,b,l),n.$setValidity(f,!1,s),!1;2==h?t.pending(i,u,f,b,l):(t.success(i,u,f,b,l),n.$setValidity(f,!0,s))}return!0},a}]).directive("validateForm",["Validator","$compile",function(e,t){return{restrict:"A",require:["^form"],link:{pre:function(a,r,i,n){var u=n[0],s=a.validator;"object"==typeof s&&(r.find("select, input, textarea").attr("validate-field",""),t(r.contents())(a),r.on("submit",function(){var t=s.rules,r=[];angular.forEach(t,function(t,i){var l=u[i],d=angular.element(document.getElementsByName(i)),o=d[0],c={};c.id=o.getAttribute("id"),c.name=o.getAttribute("name"),c.placeholder=o.getAttribute("placeholder"),c["class"]=o.getAttribute("class");var f=l.$modelValue;"file"==c.type&&(f=d.files[0]);var m=e.validate(f,t,d,l,c,n,s);m||r.push(i),l.$dirty=!0,a.$apply()}),r.length?void 0!=s.error&&s.error(r):void 0!=s.success&&s.success(u)}))}}}}]).directive("validateField",["Validator",function(e){return{restrict:"A",require:["^ngModel"],link:function(t,a,r,i){var n=i[0],u=t.validator;if("object"==typeof u&&void 0!=u.rules&&void 0!=u.rules[n.$name]){var s=u.rules[n.$name];a.on("blur",function(){var l=n.$modelValue;"file"==r.type&&(l=this.files[0]),e.validate(l,s,a,n,r,i,u),n.$dirty=!0,t.$apply()}),"file"==r.type&&a.bind("change",function(){{var e=this.files[0],r=new FileReader,i=a.parent();i.find("img-preview")}r.onload=function(e){t.$apply(function(t){t.myImage=e.target.result})},r.readAsDataURL(e),t.$apply(function(){n.$dirty=!0,n.$setViewValue(a.val()),n.$render()})})}}}}])}).call(this),function(){var e;e=angular.element,angular.module("digitlimit.validators",[]).service("validators",["$http","validatorStatus",function(t,a){var r={};return r.accepted=function(e){return 1==e||"yes"==e.toLowerCase()},r.active_url=function(){},r.after=function(e,t){return new Date(e)>new Date(t.date)},r.alpha=function(e){return/^[a-zA-Z]*$/.test(e)},r.alpha_dash=function(e){return/^[-\a-zA-Z]+$/.test(e)},r.alpha_noun=function(e){return/^(?:[A-Za-z\' -]+(?:\s+|$)){1,4}$/.test(e)},r.alpha_text=function(e){return/^(?:\\d+ [a-zA-Z ]+, ){2}[a-zA-Z ]+$/.test(e)},r.alpha_num=function(e){return/^[a-z0-9]+$/i.test(e)},r.before=function(e,t){return new Date(e)<new Date(t.date)},r.between=function(e,t){var a=parseFloat(t[0]),r=parseFloat(t[1]);return"object"==typeof e&&void 0!=e.size?e.size<=a||e.size>=a:a>=e||e>=r},r.confirmed=function(e,t,a){var r=a.find('input[name="'+t.field+'"]');return r.val()==e},r.date=function(e){return!/Invalid|NaN/.test(new Date(e).toString())},r.date_format=function(e,t){var a=t.format;if(!e||!a)return!1;for(var r,i=a.match(/\-|\/|\s/)||["-"],n=a.split(i[0]),u=e.split(i[0]),s=[0,0,0],l=0;l<n.length;l++)/yyyy/i.test(n[l])?s[0]=u[l]:/mm/i.test(n[l])?s[1]=u[l]:/dd/i.test(n[l])&&(s[2]=u[l]);return r=new Date(s.join("/")),!isNaN(r)&&Number(s[1])<=12&&r.getDate()===Number(s[2])},r.different=function(t,a,r){var i=a.field,n=(r.parent().parent(),r.parent(),e(this).find('input[name="'+i+'"]'));return n.val()!=t},r.email=function(e){return/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},r.exists=function(){},r.image=function(e){return e.type.match(/^image\//)},r.in=function(t,a){var r=a.lists;return r=r.toLowerCase().split(","),-1==e.inArray(t,r)?!1:!0},r.integer=function(e){return/^[0-9]*$/.test(e)},r.ip=function(e){return/^\d{1,3}[.]\d{1,3}[.]\d{1,3}[.]\d{1,3}$/.test(e)},r.max=function(e,t){var a=t[0];return"object"==typeof e&&void 0!=e.size?e.size<=a?!0:!1:" "!=e&&e.length<=a?!0:!1},r.min=function(e,t){var a=t[0];return"object"==typeof e&&void 0!=e.size?e.size>=a?!0:!1:" "!=e&&e.length>=a?!0:!1},r.mimes=function(e,t){if("object"!=typeof e)return!0;var a=t,r=e.type;return a.indexOf(r)>-1},r.not_in=function(t,a){var r=a.list;return r=r.toLowerCase().split(","),-1!=e.inArray(t,r)?!1:!0},r.numeric=function(e){return!isNaN(e)},r.regex=function(e,t){var a=t.pattern;return new RegExp(a).test(e)},r.required=function(e){return e&&0!=e.length&&""!=e},r.required_if=function(t,a){var r=a.field,i=e(this).find('input[name="'+r+'"]');return 0==t.length&&""==t&&i.val()==a.value?!1:!0},r.required_with=function(t,a){var r=!1,i=[],n=a.fields,n=n.toLowerCase().split(",");return e.each(n,function(t,a){var n=e(this).find('input[name="'+a+'"]'),u=n.val();0==u.length&&""==u&&(r=!0,i[a]=a)}),!r||0!=t.length&&""!=t?!0:!1},r.required_without=function(t,a,r,i){return!e(this).validateFunction("required_with",t,a,r,i)},r.same=function(t,a){var r=a.field,i=e(this).find('input[name="'+r+'"]');return i.val()==t},r.size=function(e,t){return"object"==typeof e&&void 0!=e.size?t==e.size:e.length==t},r.unique=function(e,r,i,n,u,s){if(!angular.isObject(r)||angular.isUndefined(r.url))return!1;var l=r.url,d={},o=n.$name;return d[o]=e,t({method:"POST",url:l,data:d}).then(function(e){var t,l,d="unique",c={name:o};return angular.isUndefined(e.data)?(t=e.valid,l=e.message):(t=e.data.valid,l=e.data.message),t?(a.success(i,c,d,r,s),n.$setValidity(d,!0,u),angular.isFunction(r.success)&&r.success(e),e):(a.error(i,c,d,r,s),n.$setValidity(d,!1,u),!1)},function(){return a.reset(i),angular.isFunction(r.error)&&r.error(),!1}),2},r.url=function(e){return/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},r}])}.call(this),function(){var e;e=angular.element,angular.module("digitlimit.validator.messages",[]).service("validatorMessages",["$http",function(){var e={accepted:"The :attribute must be accepted.",active_url:"The :attribute is not a valid URL.",after:"The :attribute must be a date after :date.",alpha:"The :attribute may only contain letters.",alpha_dash:"The :attribute may only contain letters, numbers, and dashes.",alpha_num:"The :attribute may only contain letters and numbers.",alpha_noun:"The :attribute may only contain spaces, letters and numbers.",alpha_text:"The :attribute may only contain spaces, letters and numbers.",array:"The :attribute must be an array.",before:"The :attribute must be a date before :date.",not_in:"The selected :attribute is invalid.",numeric:"The :attribute must be a number.",regex:"The :attribute format is invalid.",required:"The :attribute field is required.",required_if:"The :attribute field is required when :other is :value.",required_with:"The :attribute field is required when :values is present.",required_with_all:"The :attribute field is required when :values is present.",required_without:"The :attribute field is required when :values is not present.",required_without_all:"The :attribute field is required when none of :values are present.",same:"The :attribute and :other must match.","boolean":"The :attribute field must be true or false.",confirmed:"The :attribute confirmation does not match.",date:"The :attribute is not a valid date.",date_format:"The :attribute does not match the format :format.",different:"The :attribute and :other must be different.",digits:"The :attribute must be :digits digits.",digits_between:"The :attribute must be between :min and :max digits.",email:"The :attribute must be a valid email address.",filled:"The :attribute field is required.",exists:"The selected :attribute is invalid.",invalid:"The selected :attribute is invalid.",image:"The :attribute must be an image.","in":"The selected :attribute is invalid.",integer:"The :attribute must be an integer.",ip:"The :attribute must be a valid IP address.",mimes:"The :attribute must be a file of type: :values.",unique:"The :attribute has already been taken.",url:"The :attribute format is invalid.",timezone:"The :attribute must be a valid zone.",official_email:"The :attribute must be an official email.",free_email:":attribute must be from free email provider.",not_free_email:":attribute must not be from free email provider",verified_email:"This :attribute does not exists.",between:{numeric:"The :attribute must be between :min and :max.",file:"The :attribute must be between :min and :max kilobytes.",string:"The :attribute must be between :min and :max characters.",array:"The :attribute must have between :min and :max items."},max:{numeric:"The :attribute may not be greater than :max.",file:"The :attribute may not be greater than :max kilobytes.",string:"The :attribute may not be greater than :max characters.",array:"The :attribute may not have more than :max items."},min:{numeric:"The :attribute must be at least :min.",file:"The :attribute must be at least :min kilobytes.",string:"The :attribute must be at least :min characters.",array:"The :attribute must have at least :min items."},size:{numeric:"The :attribute must be :size.",file:"The :attribute must be :size kilobytes.",string:"The :attribute must be :size characters.",array:"The :attribute must contain :size items."}};return function(t,a,r,i){var n="",u="",s="";if(void 0!=a.friendlyName?u=a.friendlyName:(n=a.name,u=n.replace(/_/g," "),u=u.toLowerCase().replace(/\b[a-z]/g,function(e){return e.toUpperCase()})),angular.isArray(i))var l=i[0],d=void 0!=i[1]?i[1]:"numeric";switch(r){case"after":var o=i[0];s=e[r].replace(/:date/g,o);break;case"before":var o=i[0];s=e[r].replace(/:date/g,o);break;case"same":var c=i[0];s=e[r].replace(/:other/g,c);break;case"between":var f=i[0],l=i[1],d=void 0!=i[2]?i[2]:"numeric";s=e[r][d].replace(/:min/g,f),s=s.replace(/:max/g,l);break;case"max":var l=i[0];s=e[r][d].replace(/:max/g,l);break;case"min":var f=i[0];s=e[r][d].replace(/:min/g,f);break;case"size":var m=i[0];s=e[r][d].replace(/:size/g,m);break;case"mimes":var b="";if("object"==typeof i)for(var h=0,v=i.length;v>h;++h)d=i[h].split("/"),b+=d[1],h<i.length-1&&(b+=" or ");else b=i;s=e[r].replace(/:values/g,b);break;default:s=e[r]}return s=s.replace(/:attribute/g,u)}}])}.call(this),function(){var e;e=angular.element,angular.module("digitlimit.validator.status",[]).service("validatorStatus",["validatorMessages",function(e){var t,a,r,i={error:"fa fa-times-circle",success:"fa fa-check-circle",pending:"fa fa-circle-o-notch fa-spin"},n=function(e){var t={field_feedback:angular.element('<span class="form-control-feedback validator-form-control-feedback"></span>'),field_message:angular.element('<p class="help-block validator-field-message"></p>'),icons:{error:"fa fa-times-circle",success:"fa fa-check-circle",pending:"fa fa-circle-o-notch fa-spin"}};return angular.extend(e,t)},u=function(e,t){return!angular.isObject(e)||angular.isUndefined(e.icons)?!1:angular.isUndefined(e.icons[t])?!1:e.icons[t]},s=function(e,t,a){if(!angular.isObject(e)||angular.isUndefined(e.messages))return!1;var r=e.messages[t];return angular.isObject(r)&&!angular.isUndefined(r[a])?r[a]:!1},l={};return l.error=function(d,o,c,f,m){l.reset(d),m=n(m);var b=m.field_feedback,h=m.field_message;t=s(m,o.name,c),t=t?t:e(d,o,c,f),r=u(m,"error"),r=r?r:i.error,b.addClass(r),h.html(t),a=d.parent(),a.addClass("has-error has-feedback"),a.append(h),a.append(b)},l.success=function(e,t,s,d,o){l.reset(e),o=n(o);{var c=o.field_feedback;o.field_message}r=u(o,"success"),r=r?r:i.success,c.addClass(r),a=e.parent(),a.addClass("has-success has-feedback"),a.append(c)},l.pending=function(e,t,s,d,o){l.reset(e),o=n(o);var c=(o.field_feedback,o.field_message);r=u(o,"pending"),r=r?r:i.pending;var f=angular.isObject(d)&&!angular.isUndefined(d.message)?d.message:"checking...";f='<i class="'+r+'"></i> '+f,c.html(f),a=e.parent(),a.addClass("has-warning has-feedback"),a.append(c)},l.reset=function(e){a=e.parent(),a.removeClass("has-error has-feedback"),a.removeClass("has-success has-feedback"),a.removeClass("has-warning has-feedback"),a.find(".form-control-feedback").remove(),a.find(".validator-field-message").remove()},l}])}.call(this);